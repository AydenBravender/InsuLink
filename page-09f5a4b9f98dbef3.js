try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{})["__faroBundleId_gptengineer-app"]="1762561277640672332466e"}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7603],{702:(e,t,s)=>{"use strict";s.d(t,{f:()=>p});var l=s(77145),a=s(18502),n=s(46753),r=s.n(n),i=s(95661),o=s(83220),c=s(51374),d=s(6971),u=s(99989),m=s(74507);let p=(0,i.memo)(function(e){var t,s,n;let{username:i,showAsLink:p=!0,className:h="font-medium",fallback:g,prefix:x=""}=e,{permitted:f}=(0,c.J)(m.eZ.ViewWorkspaceMembers),v=(0,o.j4)(e=>e.currentWorkspace),{data:b,isLoading:j}=(0,a.I)(d.Y.publicProfile({username:i||""})),{data:y,isLoading:w}=(0,a.I)({...u.y.searchWorkspaceMemberships({workspaceId:(null==v?void 0:v.id)||"",params:{query:i||"",status:"active",limit:1}}),enabled:!!f&&!!(null==v?void 0:v.id)&&!!i,select:e=>e.members.find(e=>e.user_id===i||e.username===i)}),N=null==y?void 0:y.email;if(!i&&!g)return(0,l.jsxs)("span",{className:h,children:[x,"Unknown User"]});let C=null!=(s=null!=g?g:f&&N?N:void 0)?s:i;if(j||w)return p?(0,l.jsxs)(l.Fragment,{children:[x,(0,l.jsx)(r(),{href:"/users/".concat(i),className:h,target:"_blank",children:C})]}):(0,l.jsxs)("span",{className:h,children:[x,C]});let k=null!=(n=null==b||null==(t=b.attributes)?void 0:t.display_name)?n:C;return p?(0,l.jsxs)(l.Fragment,{children:[x,(0,l.jsx)(r(),{href:"/users/".concat(i),className:h,target:"_blank",children:k})]}):(0,l.jsxs)("span",{className:h,children:[x,k]})})},12847:(e,t,s)=>{"use strict";s.d(t,{P:()=>r});var l=s(35),a=s(63421),n=s(81496);let r=e=>{let{updatedAt:t,locale:s="en"}=e,r=null;"string"==typeof t?r=new Date(t):t instanceof n.Dc?r=t.toDate():t instanceof Date?r=t:"number"==typeof t&&(r=new Date(t));let i="pt"===s?{locale:a.pt}:{};return r?(0,l.B)(r,{addSuffix:!0,...i}):""}},20079:(e,t,s)=>{"use strict";s.d(t,{l:()=>c,v:()=>o});var l=s(77145),a=s(85308),n=s(29485),r=s(95661),i=s(56024);let o=(0,n.F)("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors hover:bg-accent focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5",xs:"h-8 px-2"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,t)=>{let{className:s,variant:n,size:r,...c}=e;return(0,l.jsx)(a.b,{ref:t,className:(0,i.cn)(o({variant:n,size:r,className:s})),...c})});c.displayName=a.b.displayName},20098:(e,t,s)=>{"use strict";s.d(t,{T:()=>r});var l=s(77145),a=s(95661),n=s(58295);let r=e=>{let[t,s]=(0,a.useState)(!1),r=(0,a.useRef)(void 0),i=(0,a.useCallback)(e=>{e&&(clearTimeout(r.current),navigator.clipboard.writeText(e),s(!0),r.current=setTimeout(()=>{s(!1)},1e3))},[]);return s=>{let{TriggerComponent:a,textToCopy:r,copiedFeedbackText:o="Copied!"}=s;return(0,l.jsx)(n.Bc,{children:(0,l.jsxs)(n.m_,{open:t,children:[(0,l.jsx)(n.k$,{onClick:t=>{(null==e||!e.altKey||t.altKey)&&r&&i(r)},asChild:!0,className:"hello",children:(0,l.jsx)(a,{})}),(0,l.jsx)(n.ZI,{children:(0,l.jsx)("p",{children:o})})]})})}}},35385:(e,t,s)=>{"use strict";s.d(t,{CS:()=>l,oX:()=>r,rI:()=>n,rZ:()=>a}),s(77145),s(52811),s(69730);let l="GPT-Engineer-App",a=(e,t)=>"https://github.com/".concat(t||l,"/").concat(e),n=(e,t,s)=>"".concat(a(e,s),"/commit/").concat(t),r=e=>{var t;let s=null==e||null==(t=e.github_owner)?void 0:t.name;return!!(s&&s!==l)}},55181:(e,t,s)=>{"use strict";s.d(t,{ChatPanel:()=>tg});var l=s(77145),a=s(95661),n=s(36691),r=s(51374),i=s(92918),o=s(21016),c=s(6279),d=s(680),u=s(214),m=s(74507),p=s(45327),h=s(82149),g=s(58224),x=s(65338),f=s(13410);let v=e=>{let{listRef:t,containerRef:s,itemIndex:l,messagesLength:n}=e,[r,i]=(0,a.useState)(0);return(0,a.useEffect)(()=>{if(l<0||!t.current)return;let e=()=>{if(t.current&&l>=0){let e=t.current.getItemOffset(l);e&&i(e)}};e();let a=s.current,n=null;return a&&(n=new ResizeObserver(e)).observe(a),window.addEventListener("resize",e),()=>{n&&a&&n.disconnect(),window.removeEventListener("resize",e)}},[t,s,l,n]),r};var b=s(15886),j=s(42764),y=s(52976),w=s(75417),N=s(71148),C=s(69730),k=s(56024);let S=e=>{let{isScrollable:t,isScrolledToEnd:s,scrollToEnd:a}=e;return(0,l.jsx)(w.N,{children:t&&!s&&(0,l.jsx)(N.P.button,{className:(0,k.cn)("pointer-events-auto z-[1000] flex size-9 items-center justify-center rounded-full border border-muted-border bg-muted shadow-md transition-colors hover:bg-muted-hover md:size-7"),"aria-label":"Scroll to bottom",initial:{translateY:8,opacity:0},animate:{translateY:0,opacity:1},exit:{translateY:0,opacity:0},transition:{duration:.15,bounce:0},onClick:a,children:(0,l.jsx)(C.A,{name:"arrow_down",size:"small"})})})};var _=s(88096),E=s(50514),T=s(15365);let L=()=>{let e=(0,T.WW)(),t=(0,j.Lo)(e=>e.sortedMessageIds),s=(0,j.Lo)(e=>e.messages),{isVisible:n}=(()=>{let[e,t]=(0,E.A)("message-status-bar-visible",{defaultValue:!1});return{isVisible:e,toggleVisibility:()=>t(e=>!e)}})(),r=(0,a.useMemo)(()=>e?t.map(e=>{let t=s[e];return!!t&&("userMessage"===t.type||"aiMessage"===t.type)&&t.content.includes("Please think step-by-step")}):[],[t,s,e]);return e&&n?(0,l.jsx)("div",{className:"pointer-events-none absolute right-0 top-0 z-10 h-full w-0.5",children:(0,l.jsx)("div",{className:"relative h-full w-full",children:r.map((e,t)=>(0,l.jsx)("div",{className:(0,k.cn)("absolute w-full transition-colors duration-200",e?"bg-orange-500":"bg-transparent"),style:{top:"".concat(t/r.length*100,"%"),height:"".concat(100/r.length,"%")}},t))})}):null};var A=s(82546),I=s(14047);let V={id:"welcome-visitor",editId:"__welcome_edit__",type:"aiMessage",role:"ai",content:"Welcome! Let’s make it yours—click Remix or share a quick prompt and I’ll spin up your copy, tailored to your idea, so you can explore, tweak, and build.",persisted:!0,createdAt:new Date,stopped:!1,sqlRunState:void 0,status:"completed"},M=()=>{let{permitted:e}=(0,r.J)(m.eZ.EditProject),t=(0,h.Iw)(e=>e.project),{isRemixable:s}=(0,n.I)(t),a=(0,j.Lo)(e=>e.sortedMessageIds);return!e&&s&&0===a.length&&t?(0,l.jsxs)("div",{className:"group flex flex-col pr-2","data-message-id":V.id,"data-message-edit-id":V.editId,style:{minHeight:"auto"},id:V.id,children:[(0,l.jsx)(I.q,{message:V}),(0,l.jsx)("div",{className:"pl-1 md:pl-0",children:(0,l.jsx)(A.O,{message:V})})]}):null},z=(0,a.memo)(()=>{let e=(0,j.Lo)(e=>e.isInitialized),{permitted:t}=(0,r.J)(m.eZ.EditProject);return!e&&t?(0,l.jsx)("div",{className:"flex flex-1 flex-grow flex-col items-center justify-center gap-2 text-sm",children:(0,l.jsx)(C.A,{className:"animate-spin",name:"progress_activity"})}):(0,l.jsx)(D,{})});z.displayName="Chat";let D=(0,a.memo)(()=>{let{loadEarlierMessages:e}=(0,j.vd)(),t=(0,a.useRef)(null),s=(0,a.useRef)(null),n=(0,j.Lo)(e=>e.sortedMessageIds),r=(0,j.Lo)(e=>e.hasOlderMessages),i=(0,j.Lo)(e=>"loading"===e.loadingMessagesStatus),o=(0,j.Lo)(e=>e.canLoadMoreMessages),{newMessageMinHeight:c,scrollToEnd:d,isScrollable:u,isScrolledToStart:m,isScrolledToEnd:p,checkScrollPosition:h}=(e=>{let{sortedMessageIds:t,listRef:s,containerRef:l}=e,n=(0,j.Lo)(e=>e.messages),r=(0,a.useCallback)(()=>{for(let e=t.length-1;e>=0;e--){let s=t[e],l=n[s];if((null==l?void 0:l.type)==="userMessage")return s}return null},[t,n]),i=(0,a.useRef)(r()),o=t.length-1,c=(0,a.useMemo)(()=>{for(let e=t.length-1;e>=0;e--){let s=n[t[e]];if((null==s?void 0:s.type)==="userMessage")return e}return -1},[t,n]),d=(0,a.useCallback)(()=>{setTimeout(()=>{var e;null==(e=s.current)||e.scrollToIndex(o,{align:"end"})},0)},[o,s]),u=(0,a.useCallback)(()=>{setTimeout(()=>{var e;null==(e=s.current)||e.scrollToIndex(o,{smooth:!0})},0)},[o,s]);(0,a.useEffect)(()=>{if(0===t.length){i.current=null;return}let e=t[t.length-1],s=n[e],l=n[t[t.length-2]];((null==s?void 0:s.type)==="userMessage"||(null==l?void 0:l.type)==="userMessage"&&(null==s?void 0:s.type)==="aiMessage"&&"running"===s.status)&&e!==i.current&&(u(),i.current=e)},[t,n,u]);let{shouldShowExtraSpace:m,hideExtraSpace:p}=(e=>{let[t,s]=(0,a.useState)(!1),l=(0,a.useRef)(0),n=(0,a.useRef)(void 0),r=(0,a.useRef)([]);return(0,a.useEffect)(()=>{l.current=e.length,e.length>0&&(n.current=e[e.length-1]),r.current=e},[]),(0,a.useEffect)(()=>{if(0===e.length)return;let t=e[e.length-1],a=t!==n.current,i=r.current.length,o=n.current;i>0&&(e.length<i||o&&!e.includes(o))&&(l.current=e.length,n.current=t),a&&e.length>l.current&&(s(!0),n.current=t),r.current=e},[e]),{shouldShowExtraSpace:t,hideExtraSpace:(0,a.useCallback)(()=>{s(!1),l.current=e.length,e.length>0&&(n.current=e[e.length-1]),r.current=e},[e])}})(t),h=(e=>{let{shouldShowExtraSpace:t,listRef:s,containerRef:l,lastUserMessageIndex:n,lastMessageIndex:r,messageCount:i}=e,o=(e=>{let[t,s]=(0,a.useState)(0);return(0,a.useEffect)(()=>{let t=e.current;if(!t)return;let l=()=>{s(t.offsetHeight)};l();let a=new ResizeObserver(l);return a.observe(t),window.addEventListener("resize",l),()=>{a.disconnect(),window.removeEventListener("resize",l)}},[e]),t})(l),c=v({listRef:s,containerRef:l,itemIndex:n,messagesLength:i}),d=v({listRef:s,containerRef:l,itemIndex:r,messagesLength:i})-c,u=(0,a.useRef)(0);return(0,a.useMemo)(()=>{let e=u.current,s=o-d;return t?s>0?e=s:s<0&&(e=0):e=0,u.current=e,e},[t,o,d])})({shouldShowExtraSpace:m,listRef:s,containerRef:l,lastUserMessageIndex:c,lastMessageIndex:o,messageCount:t.length});(e=>{let{sortedMessageIds:t,listRef:s}=e,l=(0,f.useSearchParams)().get("messageId");(0,a.useLayoutEffect)(()=>{if(!s.current||0===t.length)return;let e=t.length-1;if(l){let e=t.indexOf(l);e>=0&&s.current.scrollToIndex(e,{align:"start"})}else s.current.scrollToIndex(e,{align:"end"})},[])})({sortedMessageIds:t,listRef:s});let{isScrollable:g,isScrolledToEnd:x,isScrolledToStart:w,checkScrollPosition:N}=(0,b.l)({listRef:s,containerRef:l}),C=(0,y.Ey)(e=>e.isVisualEditingActive);return(0,a.useEffect)(()=>{C&&!m&&d(),C||p()},[C]),{newMessageMinHeight:h,scrollToEnd:d,isScrollable:g,isScrolledToEnd:x,isScrolledToStart:w,checkScrollPosition:N}})({sortedMessageIds:n,listRef:t,containerRef:s}),g=(e=>{let{listRef:t}=e,{store:s,snapshot:l}=(0,j.vd)();return(0,a.useCallback)(e=>{let a,{type:n,value:r}=e,i=s.getState().sortedMessageIds;if("editId"===n){let e=l.getMessageByEditId(r);e&&(a=i.indexOf(e.id))}else if("shortCommitHash"===n){let e=l.getUserCommitMessageByShortCommitHash(r);e&&(a=i.indexOf(e.id))}t.current&&void 0!==a&&a>=0&&t.current.scrollToIndex(a,{align:"start"})},[l,s,t])})({listRef:t});return(0,a.useEffect)(()=>{m&&r&&o&&e()},[m,r,o,e]),(0,l.jsxs)("div",{className:"relative flex min-h-0 w-full flex-1 shrink",ref:s,children:[(0,l.jsxs)("div",{className:"h-full w-full overflow-y-auto",style:{overflowAnchor:"none"},children:[m&&i&&(0,l.jsx)("div",{className:"absolute inset-x-0 top-0 z-10 flex h-8 items-start justify-center bg-gradient-to-t from-transparent to-background text-sm",children:(0,l.jsx)(C.A,{className:"animate-spin",name:"progress_activity",size:"small"})}),(0,l.jsx)(M,{}),(0,l.jsx)(x.YV,{keepMounted:n.length>0?[n.length-1]:void 0,ref:t,overscan:j.Rg.MESSAGES_PAGE_SIZE,onScroll:()=>{h()},shift:u&&m,children:n.map((e,t)=>(0,l.jsx)(_.G,{messageId:e,isLastMessage:t===n.length-1,newMessageMinHeight:c,scrollToEdit:g},e))}),p&&i&&(0,l.jsx)("div",{className:"flex items-center justify-center gap-2 text-sm",children:(0,l.jsx)(C.A,{className:"animate-spin",name:"progress_activity",size:"small"})}),(0,l.jsx)(L,{})]}),(0,l.jsx)("div",{className:"pointer-events-none absolute inset-x-0 bottom-0 mb-4 flex w-full items-center justify-center",children:(0,l.jsx)(S,{scrollToEnd:d,isScrolledToEnd:p,isScrollable:u})})]})});D.displayName="InnerChat";var O=s(52868),P=s(52426),F=s(93723),R=s(37474),U=s(14173);let W=()=>{let e=(0,O.jp)(e=>e.breadcrumb),{navigateTo:t}=(0,O.b8)();return 0===e.length?null:(0,l.jsx)("div",{className:"flex items-center gap-1.5 px-2 pb-3 text-sm",children:e.map((s,a)=>{let n=a===e.length-1;return(0,l.jsxs)("div",{className:"flex items-center gap-1.5 text-sm font-medium",children:[a>0&&(0,l.jsx)("span",{className:"text-muted-foreground",children:"/"}),(0,l.jsx)("button",{onClick:()=>(s=>{s!==e.length-1&&0===s&&t("design",["Design"])})(a),disabled:n,className:n?"cursor-default":"cursor-pointer text-muted-foreground transition-colors hover:text-foreground",children:s})]},a)})})};var B=s(17307),q=s(47226);let K=()=>{let{navigateTo:e}=(0,O.b8)(),{themes:t}=(0,B.j)(),s=[...(0,u.Um)()?[{id:"libraries",title:"Libraries",subtitle:"3 Libraries",icon:"books",view:"design-libraries"}]:[],{id:"themes",title:"Themes",subtitle:t&&"".concat(t.length," themes"),icon:"color_palette",view:"design-themes"},{id:"edit",title:"Edit",subtitle:"Select elements to edit and style visually",icon:"pointer_dashed_square",view:"design-edit"}];return(0,l.jsxs)("div",{className:"flex h-full flex-col justify-between gap-4 overflow-y-auto px-2 pb-4",children:[(0,l.jsx)("div",{className:"grid grid-cols-2 gap-4 @container",children:s.map(t=>(0,l.jsxs)("div",{className:"group col-span-2 flex min-h-32 cursor-pointer flex-col justify-between gap-2 rounded-2xl border border-transparent bg-muted p-4 transition-colors @md:col-span-1 @md:last:odd:col-span-2 hover:border-muted-foreground/20",onClick:()=>e(t.view),children:[(0,l.jsx)(C.A,{name:t.icon,size:"large"}),(0,l.jsxs)("div",{className:"flex items-end justify-between gap-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-lg",children:t.title}),t.subtitle?(0,l.jsx)("p",{className:"text-sm text-muted-foreground",children:t.subtitle}):(0,l.jsx)(q.E,{className:"mt-[5px] h-4 w-20"})]}),(0,l.jsx)(C.A,{name:"chevron_right",className:"transition-transform group-hover:translate-x-1"})]})]},t.id))}),(0,l.jsx)("div",{className:"",children:(0,l.jsxs)("div",{className:"group flex min-h-32 cursor-pointer flex-col justify-between gap-2 rounded-2xl border border-muted-foreground/20 p-4 transition-colors hover:border-muted-foreground/40",children:[(0,l.jsx)(C.A,{name:"color_palette",size:"large"}),(0,l.jsxs)("div",{className:"flex items-end justify-between gap-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-lg",children:"Looking for design libraries?"}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam scelerisque aliquam odio et faucibus."})]}),(0,l.jsx)(C.A,{name:"chevron_right",className:"transition-transform group-hover:translate-x-1"})]})]})})]})};var H=s(52811);let $=()=>{let[e,t]=(0,a.useState)([{id:"design-system",name:"Acme Design System",expanded:!0},{id:"illustrations",name:"Acme Illustrations",expanded:!1},{id:"assets",name:"Acme Assets",expanded:!1}]),s=[{id:"accordion",name:"Accordion",icon:"unfold_more",categoryId:"design-system"},{id:"alert",name:"Alert",icon:"warning",categoryId:"design-system"},{id:"avatar",name:"Avatar",icon:"circle",categoryId:"design-system"},{id:"badge",name:"Badge",icon:"id_badge",categoryId:"design-system"},{id:"button",name:"Button",icon:"check_circle",categoryId:"design-system"},{id:"card",name:"Card",icon:"dot_grid",categoryId:"design-system"},{id:"carousel",name:"Carousel",icon:"view_week",categoryId:"design-system"},{id:"checkbox",name:"Checkbox",icon:"check_circle",categoryId:"design-system"},{id:"combobox",name:"Combobox",icon:"unfold_more",categoryId:"design-system"},{id:"datatable",name:"Data Table",icon:"table",categoryId:"design-system"},{id:"datepicker",name:"Date Picker",icon:"calendar",categoryId:"design-system"},{id:"dialog",name:"Dialog",icon:"forum",categoryId:"design-system"}];return(0,l.jsxs)("div",{className:"flex h-full flex-col overflow-y-auto",children:[(0,l.jsxs)("div",{className:"border-b border-border px-2 pb-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("h2",{className:"text-lg",children:"Libraries"}),(0,l.jsx)(H.$,{size:"sm",variant:"outline",children:(0,l.jsx)(C.A,{name:"plus",size:"small"})})]}),(0,l.jsx)("p",{className:"mt-1 text-xs text-muted-foreground",children:"3 Libraries"})]}),(0,l.jsx)("div",{className:"flex-1 overflow-y-auto",children:e.map(e=>(0,l.jsxs)("div",{className:"border-b border-border",children:[(0,l.jsx)("button",{onClick:()=>{var s;return s=e.id,void t(e=>e.map(e=>e.id===s?{...e,expanded:!e.expanded}:e))},className:"flex w-full items-center justify-between p-3 text-left hover:bg-muted/50",children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(C.A,{name:e.expanded?"chevron_down":"chevron_right",size:"small"}),(0,l.jsx)("span",{className:"font-medium",children:e.name})]})}),e.expanded&&(0,l.jsx)("div",{className:"bg-muted/20",children:s.filter(t=>t.categoryId===e.id).map(e=>(0,l.jsxs)("button",{className:"flex w-full items-center gap-3 px-4 py-2 text-left hover:bg-muted/50",children:[(0,l.jsx)(C.A,{name:e.icon,size:"small",className:"text-muted-foreground"}),(0,l.jsx)("span",{className:"text-sm",children:e.name})]},e.id))})]},e.id))})]})};var X=s(52597);let Y=e=>{let{title:t="Loading...",description:s="Hang tight while we're getting things ready for you",isLoading:a=!0,icon:n="info",children:r}=e;return(0,l.jsxs)("div",{className:"flex h-full flex-col items-center justify-center gap-3",children:[a?(0,l.jsx)(X.y,{variant:"ring",className:"text-muted-foreground"}):(0,l.jsx)(C.A,{name:n,size:"xlarge",className:"text-muted-foreground"}),(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-1 text-center",children:[(0,l.jsx)("div",{className:"text-lg font-medium",children:t}),(0,l.jsx)("div",{className:"max-w-48 text-balance text-sm text-muted-foreground",children:s})]}),r]})},G=()=>(0,l.jsx)(Y,{title:"Your project is being updated...",description:"Hang tight while we apply changes"}),Z=()=>(0,l.jsx)(Y,{title:"Your project is being reverted...",description:"Hang tight while it finishes reverting"}),Q=()=>(0,l.jsx)(Y,{title:"Applying theme...",description:"Hang tight while your theme is being applied"}),J=()=>(0,l.jsx)(Y,{title:"Saving edits...",description:"Hang tight while we save your changes"}),ee=()=>(0,l.jsx)(Y,{title:"Starting live preview...",description:"Hang on while we get everything set up"});var et=s(87299),es=s(6698),el=s(31088),ea=s(61411),en=s(42673),er=s(24892),ei=s(83220),eo=s(34895),ec=s(30101),ed=s(83473),eu=s(63851),em=s(27851),ep=s(61035),eh=s(92997),eg=s(19695),ex=s(8711);let ef=e=>{let{theme:t,isApplied:s,onEdit:n,onApply:r,onPreview:i,onRemovePreview:o,onDelete:c}=e,{resolvedTheme:d="light"}=(0,ep.D)(),[u,m]=(0,a.useState)(!1),p=!t.isStatic;return(0,l.jsx)("div",{className:"block w-full pb-1.5 pt-1.5 first:pt-0 last:pb-0",onMouseEnter:()=>i(t),onMouseLeave:o,children:(0,l.jsxs)("div",{className:(0,k.cn)("group/theme-card relative flex min-h-12 min-w-0 items-center justify-between gap-2 overflow-hidden rounded-lg border bg-muted px-2 pe-2 ps-4 transition-colors hover:border-muted-foreground/20",s&&"border-affirmative-foreground"),children:[(0,l.jsxs)("div",{className:"flex min-w-0 flex-1 items-center gap-2",children:[(0,l.jsx)(eh.O,{theme:t,pageMode:d,numberOfDots:5,className:"shrink-0 justify-start",dotClassName:"*:size-4"}),(0,l.jsx)("div",{className:"min-w-0 truncate text-sm font-medium",children:t.name})]}),(0,l.jsxs)("div",{className:(0,k.cn)("absolute inset-0 flex translate-x-2 items-center justify-end gap-2 bg-gradient-to-l from-background via-background to-transparent pe-2 opacity-0 transition-all group-hover/theme-card:translate-x-0 group-hover/theme-card:opacity-100",u&&"translate-x-0 opacity-100"),children:[(0,l.jsx)(H.$,{onClick:()=>r(t),children:"Apply"}),(0,l.jsxs)(ex.rI,{open:u,onOpenChange:m,children:[(0,l.jsx)(ex.ty,{asChild:!0,children:(0,l.jsx)(H.$,{variant:"outline",size:"icon",className:"h-8 w-8",children:(0,l.jsx)(C.A,{name:"ellipsis_horizontal",size:"small"})})}),(0,l.jsxs)(ex.SQ,{align:"end",children:[(0,l.jsxs)(ex._2,{onClick:()=>n(t),children:[(0,l.jsx)(C.A,{name:"edit",size:"small",className:"mr-2"}),"Edit"]}),(0,l.jsx)(eg.Q,{showTooltip:!p,tooltipContent:"This theme can't be deleted",children:(0,l.jsxs)(ex._2,{onClick:()=>c(t),disabled:!p,className:"text-destructive-primary",children:[(0,l.jsx)(C.A,{name:"trash",size:"small",className:"mr-2"}),"Delete"]})})]})]})]})]})})},ev=()=>{let e=(0,B.l)(),t=(0,c.B)(),{isLoading:s}=(0,B.j)(),[n,r]=(0,a.useState)(!1),[i,o]=(0,a.useState)(null),[d,u]=(0,a.useState)(null),m=(0,en.C)(e=>e.setCurrentThemeVariablesFromThemeData),{setIsApplyingTheme:p}=(0,P.sK)(),{currentWorkspaceId:h}=(0,ei.Dx)(),g=(0,et.jE)(),x=e=>{m(e),r(!0)},f=(0,em.E)(),v=e=>{let t=Object.entries((0,ea.P)(e,"light")).map(e=>{let[t,s]=e;return"  ".concat(t,": ").concat(s,";")}).join("\n"),s=Object.entries((0,ea.P)(e,"dark")).map(e=>{let[t,s]=e;return"  ".concat(t,": ").concat(s,";")}).join("\n"),l="\n            :root {\n              ".concat(t,"\n            }\n            \n            .dark {\n              ").concat(s,"\n            }\n          ");f({type:em.G.SET_STYLESHEET,payload:{stylesheet:l}})},b=()=>{f({type:em.G.SET_STYLESHEET,payload:{stylesheet:""}})},j=()=>{i||b()},y=e=>{o(e),v(e)},w=(0,es.n)({mutationFn:e=>(0,eu.P)().post("/projects/".concat(t,"/apply-theme"),{theme_id:e.id,library_id:e.libraryId||""}),onMutate:e=>{v(e),p(!0)},onSuccess:(e,t)=>{el.toast.success("Theme ".concat(t.name," applied successfully")),o(null)},onError:e=>{(0,ed.Ni)(e),b(),p(!1)},onSettled:()=>{p(!1)}}),N=(0,es.n)({mutationFn:async e=>{let{libraryId:t,themeId:s}=e;return(0,eu.P)().delete("/workspaces/".concat(h,"/libraries/").concat(t,"/components/").concat(s))},onSuccess:()=>{g.invalidateQueries({queryKey:["workspace-themes",h]}),el.toast.success("Theme deleted successfully"),u(null)},onError:e=>{(0,ed.Ni)(e)}}),k=e=>{e.isStatic||u(e)};return s?(0,l.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,l.jsx)("div",{className:"text-muted-foreground",children:"Loading themes..."})}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"h-full space-y-6 overflow-y-auto px-2 pb-8",children:[e.filter(e=>e.themes.length>0).map(e=>(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"mb-3 font-medium",children:e.title}),(0,l.jsx)("div",{children:e.themes.map(e=>(0,l.jsx)(ef,{theme:e,isApplied:!1,onEdit:x,onApply:y,onPreview:v,onRemovePreview:j,onDelete:k},e.id))})]},e.id)),e.every(e=>0===e.themes.length)&&(0,l.jsxs)(eo.Fc,{variant:"secondary",children:[(0,l.jsx)(C.A,{name:"info",size:"small"}),(0,l.jsx)(eo.XL,{children:"No themes available"}),(0,l.jsx)(eo.TN,{children:"Create your first theme to get started"})]})]}),(0,l.jsx)(er.S,{open:n,onOpenChange:r}),(0,l.jsx)(ec.A,{isLoading:w.isPending,open:!!i,onOpenChange:()=>{o(null),b()},icon:"brush",title:"Apply theme",description:(0,l.jsxs)("span",{children:["Do you want to apply ",(0,l.jsx)("strong",{children:null==i?void 0:i.name})," to your project?"]}),confirmText:w.isPending?"Applying...":"Apply",cancelText:"Cancel",onConfirm:()=>{i&&w.mutate(i)}}),(0,l.jsx)(ec.A,{isLoading:N.isPending,open:!!d,onOpenChange:()=>{u(null)},icon:"trash",title:"Delete theme",description:(0,l.jsxs)("span",{children:["Are you sure you want to delete ",(0,l.jsx)("strong",{children:null==d?void 0:d.name}),"?"]}),confirmText:N.isPending?"Deleting...":"Delete",cancelText:"Cancel",confirmVariant:"destructive",onConfirm:()=>{d&&d.libraryId&&N.mutate({libraryId:d.libraryId,themeId:d.id})}})]})};var eb=s(55966),ej=s(36421),ey=s(48781),ew=s(59823),eN=s(97669),eC=s(50704),ek=s(38109),eS=s(31046),e_=s(46284),eE=s(80729),eT=s(1536),eL=s(69958),eA=s(89002),eI=s(32313);let eV=e=>{var t;let{inputValue:s,cursorPosition:l}=e;if(!s.trim()||null===l)return null;let a=s.substring(0,l),n=s.substring(l),r=a.split(/\s+/),i=(r[r.length-1]||"")+((null==(t=n.match(/^[^\s]*/))?void 0:t[0])||"");if(0===i.length)return null;let o=i.lastIndexOf(":");if(-1!==o){let e=i.substring(0,o+1),t=i.substring(o+1),s=t.length>0;return{completeWord:i,hasModifier:!0,modifier:e,classAfterColon:t,hasClassAfterColon:s}}return{completeWord:i,hasModifier:!1,modifier:"",classAfterColon:"",hasClassAfterColon:!1}},eM=e=>{let{wordInfo:t,getAutocomplete:s,limit:l}=e;if(!t)return{suggestions:[],shouldShow:!1};let{hasModifier:a,modifier:n,classAfterColon:r,hasClassAfterColon:i,completeWord:o}=t;if(a){if(i){let e=s(r,l).map(e=>n+e);return{suggestions:e,shouldShow:e.length>0}}return{suggestions:[],shouldShow:!1}}{let e=s(o,l);return{suggestions:e,shouldShow:e.length>0}}},ez=e=>{var t;let{element:s,currentClassName:n,onUpdateClassName:r}=e,{getAutocomplete:i}=(0,eE.v)(),o=(0,a.useRef)(null),[c,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(""),[p,h]=(0,a.useState)(null),[g,x]=(0,a.useState)(""),f=(0,a.useRef)(null),v=(0,a.useRef)([]),b=(0,a.useCallback)(e=>{x(e)},[]),j=(0,a.useCallback)(()=>{let e=o.current;e&&h(e.selectionStart||0)},[]);(0,a.useEffect)(()=>{let e=e=>{let t=e.target,s=f.current;s&&!s.contains(t)&&(t instanceof Element&&(t.closest('[role="dialog"]')||t.closest("[cmdk-root]")||t.closest("[data-radix-popper-content-wrapper]"))||d(!1))};if(c)return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[c]);let y=(0,a.useMemo)(()=>eM({wordInfo:eV({inputValue:u,cursorPosition:p}),getAutocomplete:i,limit:10}).suggestions,[u,p,i]),w=(0,a.useCallback)(e=>{let t=o.current;if(!t||null===p)return;let l=u.substring(0,p),a=u.substring(p),n=l.split(/\s+/),i=n[n.length-1]||"",c=a.match(/^[^\s]*/),g=(null==c?void 0:c[0])||"",x=a.substring(g.length),f=l.substring(0,l.length-i.length),v=(f+e+" "+x).replace(/\s+/g," ");m(v),r({element:s,className:v}),d(!1),setTimeout(()=>{t.focus();let s=f.length+e.length+1;t.setSelectionRange(s,s),h(s)},0)},[u,p,s,r]),N=(0,a.useCallback)(()=>{d(eM({wordInfo:eV({inputValue:u,cursorPosition:p}),getAutocomplete:i,limit:10}).shouldShow)},[u,p,i]);(0,a.useEffect)(()=>{m(n||"")},[n]),(0,a.useEffect)(()=>{N()},[N]),(0,a.useEffect)(()=>{c&&y.length>0?x(y[0]):x("")},[c,y]);let C=(0,a.useMemo)(()=>y.indexOf(g),[y,g]);return(0,a.useEffect)(()=>{if(C>=0&&v.current[C]){var e;null==(e=v.current[C])||e.scrollIntoView({block:"nearest",behavior:"smooth"})}},[C]),(0,l.jsx)("div",{className:"flex flex-row gap-2",children:(0,l.jsx)("div",{ref:f,className:"relative w-full",children:(0,l.jsxs)(eA.AM,{open:!0,children:[(0,l.jsx)(eA.Wv,{asChild:!0,children:(0,l.jsx)(eI.T,{ref:o,value:u,className:"h-auto max-h-[200px] min-h-[80px] resize-y border-transparent text-sm leading-snug scrollbar-thin scrollbar-track-transparent scrollbar-thumb-[#636575] placeholder-shown:text-ellipsis placeholder-shown:whitespace-nowrap hover:border-transparent focus-visible:ring-0 focus-visible:ring-offset-0",placeholder:"Enter Tailwind classes...",onChange:e=>{let t=e.target.value;m(t),r({element:s,className:t}),h(e.target.selectionStart||0)},onKeyUp:j,onClick:j,onSelect:j,onKeyDown:e=>{if("Escape"===e.key)d(!1);else if("Enter"===e.key)g&&y.includes(g)&&(e.preventDefault(),w(g));else if("ArrowDown"===e.key||"ArrowUp"===e.key){e.preventDefault();let t=(y.indexOf(g)+("ArrowDown"===e.key?1:-1)+y.length)%y.length;b(y[t]||"")}setTimeout(j,0)},onFocus:e=>{h(e.currentTarget.selectionStart||0)}})}),(0,l.jsx)(eA.hl,{className:(0,k.cn)("max-h-40 w-full overflow-y-auto p-0",{hidden:!c}),side:"bottom",align:"start",style:{width:null==(t=o.current)?void 0:t.offsetWidth},children:(0,l.jsx)(eL.uB,{autoFocus:!1,value:g,onValueChange:b,children:(0,l.jsx)(eL.oI,{children:(0,l.jsx)(eL.L$,{children:y.map((e,t)=>(0,l.jsx)("div",{ref:e=>{v.current[t]=e},children:(0,l.jsx)(eL.h_,{value:e,onSelect:()=>w(e),children:(0,l.jsx)("span",{className:"text-xs",children:e})})},e))})})})})]})})})};var eD=s(54504);let eO=e=>{let{title:t,children:s,childrenWrapperClassName:a,className:n,fullWidth:r=!1}=e;return(0,l.jsxs)("div",{className:(0,k.cn)("col-span-2 space-y-0.5 @xs:col-span-1",r&&"@xs:col-span-2",n),children:[t&&(0,l.jsx)("span",{className:"text-xs text-muted-foreground",children:t}),(0,l.jsx)("div",{className:(0,k.cn)("",a),children:s})]})},eP=e=>{let{children:t,label:s,className:a}=e;return(0,l.jsxs)("div",{className:"group/style-section",children:[(0,l.jsx)(eD.Separator,{className:"mb-6 group-first/style-section:hidden"}),(0,l.jsx)("div",{className:"flex items-center gap-2 group-first/style-section:mt-10",children:(0,l.jsx)("div",{className:"text-sm font-medium text-primary",children:s})}),(0,l.jsx)("div",{className:(0,k.cn)("grid grid-cols-2 gap-2 @container",a),children:t})]})},eF=e=>{let{element:t}=e,{currentClassName:s}=(0,U.K)(),{handleUpdateClassNameAdvanced:a}=(0,eC.g)();return(0,l.jsx)(eP,{label:"Advanced",children:(0,l.jsx)(eO,{fullWidth:!0,title:"Classes",children:(0,l.jsx)(ez,{element:t,currentClassName:s,onUpdateClassName:a})})})};var eR=s(68169),eU=s(76184),eW=s(46868),eB=s(60074);let eq={xs:"XS",sm:"Small",base:"Body",md:"Medium",lg:"Large",xl:"Extra Large","2xl":"2XL","3xl":"3XL","4xl":"4XL","5xl":"5XL","6xl":"6XL","7xl":"7XL","8xl":"8XL","9xl":"9XL",full:"Full",DEFAULT:"Default",none:"None",inner:"Inner shadow"},eK=e=>{var t,s,l,a,n,r,i,o,c,d;let u,m;if(!e)return;let p=1;if(e.modifier&&(p=(null==(r=e.modifier)?void 0:r.startsWith("["))&&(null==(i=e.modifier)?void 0:i.endsWith("]"))?parseFloat(e.modifier.replace(/[\[\]]/g,"")):parseInt(e.modifier)/100),(null==(t=e.valueDef)?void 0:t.raw)==="inherit")return;(null==(s=e.valueDef)?void 0:s.raw)==="transparent"&&(p=0),(null==(l=e.value)?void 0:l.startsWith("hsl"))?(m=(0,eW.Sf)(e.value),u=null==(o=e.valueDef)?void 0:o.raw):(null==(n=e.valueDef)||null==(a=n.raw)?void 0:a.startsWith("#"))?m=null==(d=e.valueDef)?void 0:d.raw:(u=null==(c=e.valueDef)?void 0:c.raw,m=e.value);let h=(0,eB.E2)(m);if(!h)return{name:u,hex:void 0};let g=(0,eB.Ob)(h.r,h.g,h.b,p);return{name:u||g,hex:g,hexWithoutAlpha:(0,eB.Ob)(h.r,h.g,h.b,1)}},eH=e=>{let{element:t,debouncedOnClassNameUpdate:s,getEffectiveValue:a}=e,{currentClassName:n}=(0,U.K)(),{getRelevantTwClass:r,theme:i}=(0,eE.U)(),o=eK(r({className:n,property:"textColor",cssVariables:t.cssVariables})),c=eK(r({className:n,property:"backgroundColor",cssVariables:t.cssVariables}));return(0,l.jsxs)(eP,{label:"Colors",children:[(0,l.jsx)(eO,{title:"Text color",children:(0,l.jsx)(eR.s,{presetColors:null==i?void 0:i.colors,color:a("textColor",null==o?void 0:o.hex)||"transparent",onChange:e=>{e&&s({property:"textColor",value:e||"inherit"})},children:(0,l.jsxs)(H.$,{variant:"input",className:"flex h-9 w-full items-center justify-start border-none bg-muted px-3 py-1 transition-colors duration-150 ease-in-out focus-visible:outline-none",children:[(0,l.jsxs)("div",{className:"relative mr-2 h-4 w-4 overflow-hidden rounded-full",children:[(0,l.jsx)("div",{className:"absolute inset-0",children:(0,l.jsx)(eU.Y,{})}),(0,l.jsx)("div",{className:"absolute inset-y-0 left-0 w-2",style:{backgroundColor:null==o?void 0:o.hexWithoutAlpha}}),(0,l.jsx)("div",{className:"absolute inset-y-0 right-0 w-2",style:{backgroundColor:null==o?void 0:o.hex}})]}),(0,l.jsx)("span",{className:"truncate",children:(null==o?void 0:o.name)||"Inherit"})]})},"".concat(t.filePath,":").concat(t.lineNumber))}),(0,l.jsx)(eO,{title:"Background color",children:(0,l.jsx)(eR.s,{color:a("backgroundColor",null==c?void 0:c.hex)||"transparent",onChange:e=>{e&&s({property:"backgroundColor",value:e||"inherit"})},presetColors:null==i?void 0:i.colors,children:(0,l.jsxs)(H.$,{variant:"input",className:"flex h-9 w-full items-center justify-start border-none bg-muted px-3 py-1 transition-colors duration-150 ease-in-out focus-visible:outline-none",children:[(0,l.jsxs)("div",{className:"relative mr-2 h-4 w-4 overflow-hidden rounded-full",children:[(0,l.jsx)("div",{className:"absolute inset-0",children:(0,l.jsx)(eU.Y,{})}),(0,l.jsx)("div",{className:"absolute inset-y-0 left-0 w-2",style:{backgroundColor:null==c?void 0:c.hexWithoutAlpha}}),(0,l.jsx)("div",{className:"absolute inset-y-0 right-0 w-2",style:{backgroundColor:null==c?void 0:c.hex}})]}),(0,l.jsx)("span",{className:"truncate",children:(null==c?void 0:c.name)||"Inherit"})]})},"".concat(t.filePath,":").concat(t.lineNumber))})]})};var e$=s(67539);let eX=e=>{var t,s,a;let{element:n,debouncedOnClassNameUpdate:r}=e,{currentClassName:i}=(0,U.K)(),{getRelevantTwClass:o,theme:c}=(0,eE.U)();return(0,l.jsxs)(eP,{label:"Effects",children:[(0,l.jsx)(eO,{title:"Border radius",children:(0,l.jsxs)(e$.l6,{onValueChange:e=>e&&r({property:"borderRadius",value:e}),value:(null==(t=o({className:i,property:"borderRadius",cssVariables:n.cssVariables}))?void 0:t.valueDef.raw)||"none",children:[(0,l.jsx)(e$.bq,{className:"border-0 bg-muted shadow-none",children:(0,l.jsx)(e$.yv,{placeholder:"Select border radius"})}),(0,l.jsx)(e$.gC,{children:Object.keys((null==c?void 0:c.borderRadius)||{}).map(e=>{var t;return(0,l.jsx)(e$.eb,{value:e,children:null!=(t=eq[e])?t:"Default"},e)})})]})}),(0,l.jsx)(eO,{title:"Shadow",children:(0,l.jsxs)(e$.l6,{onValueChange:e=>e&&r({property:"boxShadow",value:e}),value:(null==(a=o({className:i,property:"boxShadow",cssVariables:n.cssVariables}))||null==(s=a.valueDef)?void 0:s.raw)||"none",children:[(0,l.jsx)(e$.bq,{className:"border-0 bg-muted shadow-none",children:(0,l.jsx)(e$.yv,{placeholder:"Select shadow"})}),(0,l.jsx)(e$.gC,{children:Object.keys((null==c?void 0:c.boxShadow)||{}).map(e=>{var t;return(0,l.jsx)(e$.eb,{value:e,children:null!=(t=eq[e])?t:e},e)})})]})})]})};var eY=s(58295);let eG=e=>{let{iconName:t,className:s,svgCache:a}=e,n=a.get(t);return n?(0,l.jsx)("div",{className:(0,k.cn)("shrink-0",s),style:{pointerEvents:"none"},dangerouslySetInnerHTML:{__html:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="width: 100%; height: 100%;">'.concat(n,"</svg>")}}):(0,l.jsx)("div",{className:(0,k.cn)("shrink-0",s)})},eZ=["Bell","BellOff","Calendar","Check","CheckCircle","ChevronDown","ChevronLeft","ChevronRight","ChevronUp","Circle","Clock","Copy","Download","Edit","Eye","EyeOff","Facebook","File","FileText","Filter","Folder","Github","Globe","Heart","HelpCircle","Home","Image","Info","Instagram","Layers","Link","Linkedin","List","Loader","Lock","LogIn","LogOut","Mail","MapPin","Menu","MessageCircle","MessageSquare","Minus","Moon","MoreHorizontal","MoreVertical","Move","Pause","Phone","Play","Plus","Power","Save","Search","Send","Settings","Share","ShoppingCart","Star","Sun","Trash","TrendingUp","Twitter","Upload","User","Users","Video","X","Zap","AlertCircle","AlertTriangle","Archive","ArrowDown","ArrowLeft","ArrowRight","ArrowUp","AtSign","Award","BarChart","Battery","Bluetooth","Bold","Book","Bookmark","Box","Briefcase","Camera","Cast","Chrome","Clipboard","Cloud","Code","Codepen","Coffee","Command","Compass","CreditCard","Crop","Crosshair","Database","Delete","Disc","DollarSign","Droplet","ExternalLink","FastForward","Feather","Film","Flag","Grid","Hash","Headphones","Inbox","Italic","Key","Layout","LifeBuoy","Lightbulb","Maximize","Mic","Minimize","Monitor","Music","Navigation","Package","Paperclip","PieChart","Printer","Radio","Repeat","Rewind","RotateCcw","RotateCw","Rss","Scissors","Server","Shield","ShoppingBag","Shuffle","Sidebar","SkipBack","SkipForward","Slack","Smartphone","Smile","Speaker","Square","StopCircle","Tag","Target","Terminal","ThumbsDown","ThumbsUp","ToggleLeft","ToggleRight","TrendingDown","Triangle","Tv","Type","Umbrella","Underline","Unlock","UserCheck","UserMinus","UserPlus","UserX","Volume","VolumeX","Watch","Wifi","WifiOff","Wind","XCircle","XSquare","Youtube","ZoomIn","ZoomOut"].sort(),eQ=e=>{let{element:t}=e,{handleIconChange:s}=(0,eC.g)(),[n,r]=(0,a.useState)(!1),[i,o]=(0,a.useState)(new Map),[c,d]=(0,a.useState)(!1),u=t.componentName||t.elementType;return(0,a.useEffect)(()=>{0!==i.size||c||(d(!0),(async()=>{let e=new Map;await Promise.all(eZ.map(async t=>{try{let s=t.replace(/([A-Z])/g,"-$1").toLowerCase().slice(1),l=await fetch("https://unpkg.com/lucide-static@latest/icons/".concat(s,".svg"));if(l.ok){let s=await l.text(),a=new DOMParser().parseFromString(s,"image/svg+xml").querySelector("svg");a&&e.set(t,a.innerHTML)}}catch(e){el.toast.error("Failed to load icon: ".concat(t))}})),o(e),d(!1)})())},[n,i.size,c]),(0,l.jsx)(eP,{label:"Icon",className:"grid-cols-1",children:(0,l.jsx)(eO,{title:"Icon Type",children:(0,l.jsxs)(eA.AM,{open:n,onOpenChange:r,children:[(0,l.jsx)(eA.Wv,{asChild:!0,children:(0,l.jsxs)(H.$,{variant:"outline",role:"combobox","aria-expanded":n,className:"h-9 w-fit min-w-48 justify-between bg-muted px-2 font-normal",disabled:c,children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[c?(0,l.jsx)(X.y,{size:"small"}):(0,l.jsx)(eG,{iconName:u,className:"size-4",svgCache:i}),c?"Loading icons...":u]}),(0,l.jsx)(C.I,{name:"chevron_down",className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,l.jsx)(eA.hl,{align:"start",className:"w-[300px] bg-popover p-0",children:(0,l.jsxs)(eL.uB,{children:[(0,l.jsx)(eL.G7,{placeholder:"Search icon..."}),(0,l.jsxs)(eL.oI,{className:"",children:[(0,l.jsx)(eL.xL,{children:"No icon found."}),(0,l.jsx)(eL.L$,{className:"*:grid *:grid-cols-6 *:gap-2",children:eZ.map(e=>(0,l.jsx)(eL.h_,{className:"aspect-square p-0",value:e,onSelect:()=>{s(t,e),r(!1)},children:(0,l.jsxs)(eY.m_,{delayDuration:0,children:[(0,l.jsxs)(eY.k$,{className:"flex h-full w-full items-center justify-center",children:[(0,l.jsx)(eG,{iconName:e,className:"size-4",svgCache:i}),(0,l.jsx)("span",{className:"sr-only",children:e})]}),(0,l.jsx)(eY.ZI,{side:"bottom",sideOffset:-8,className:"rounded border border-muted-border bg-popover px-1 py-0 text-xs text-primary",children:e})]})},e))})]})]})})]})})})};var eJ=s(40702),e0=s(45804);let e1=e=>{var t;let{element:s,debouncedOnClassNameUpdate:a}=e,{authUser:n}=(0,eJ.Z2)(),{currentClassName:r,ast:i}=(0,U.K)(),{getRelevantTwClass:o}=(0,eE.U)(),{handleImageChange:c}=(0,eC.g)(),d=(0,ew.xe)(e=>e.addUpload);return(0,l.jsxs)(eP,{label:"Image",children:[(0,l.jsx)(eO,{title:"Image",children:(0,ek.io)(s,i,"src")?(0,l.jsx)(e0.T,{disabled:!(0,ek.io)(s,i,"src"),onUrlSubmitted:e=>c(s,e),onImagesUploaded:e=>{e.length>0&&(d({dir_name:n.uid,file_name:e[0].name,type:e[0].type,id:e[0].id}),c(s,"/lovable-uploads/".concat(e[0].name),e[0].downloadUrl))}}):(0,l.jsx)("p",{className:"text-sm text-muted-foreground",children:"This element contains dynamic elements and its image cannot be manually edited. Please use the chat to change the image."})}),(0,l.jsx)(eO,{title:"Resize",children:(0,l.jsxs)(e$.l6,{onValueChange:e=>e&&a({property:"objectFit",value:e}),value:((null==(t=o({className:r,property:"objectFit",cssVariables:s.cssVariables}))?void 0:t.valueDef.raw)||"object-none").replace("object-",""),children:[(0,l.jsx)(e$.bq,{className:"bg-input",children:(0,l.jsx)(e$.yv,{placeholder:"Select border radius"})}),(0,l.jsxs)(e$.gC,{className:"bg-popover",children:[(0,l.jsx)(e$.eb,{value:"contain",children:"Contain"}),(0,l.jsx)(e$.eb,{value:"cover",children:"Cover"}),(0,l.jsx)(e$.eb,{value:"fill",children:"Fill"}),(0,l.jsx)(e$.eb,{value:"none",children:"None"}),(0,l.jsx)(e$.eb,{value:"scale-down",children:"Scale down"})]})]})})]})};var e2=s(79874);let e4={"justify-start":"flex-start","justify-end":"flex-end","justify-center":"center","justify-between":"space-between","justify-around":"space-around","justify-evenly":"space-evenly"},e5=[{align:"items-start",justify:"justify-start"},{align:"items-start",justify:"justify-center"},{align:"items-start",justify:"justify-end"},{align:"items-center",justify:"justify-start"},{align:"items-center",justify:"justify-center"},{align:"items-center",justify:"justify-end"},{align:"items-end",justify:"justify-start"},{align:"items-end",justify:"justify-center"},{align:"items-end",justify:"justify-end"}],e8=[{align:"items-start"},{align:"items-center"},{align:"items-end"}],e3=e=>{var t,s,n,r,i,o,c;let{element:d,debouncedOnClassNameUpdate:u}=e,{currentClassName:m}=(0,U.K)(),{getRelevantTwClass:p}=(0,eE.U)(),{handleUpdateClassName:h}=(0,eC.g)(),[g,x]=(0,a.useState)(!1),f=(0,eT.BK)(d),v=null==(t=p({className:null!=m?m:"",property:"display",cssVariables:d.cssVariables}))?void 0:t.value,b=null==(s=p({className:null!=m?m:"",property:"flexDirection",cssVariables:d.cssVariables}))?void 0:s.value,j=null==(r=p({className:null!=m?m:"",property:"alignItems",cssVariables:d.cssVariables}))||null==(n=r.valueDef)?void 0:n.raw,y=null==(o=p({className:null!=m?m:"",property:"justifyContent",cssVariables:d.cssVariables}))||null==(i=o.valueDef)?void 0:i.raw,w=null==(c=p({className:null!=m?m:"",property:"gap",cssVariables:d.cssVariables}))?void 0:c.value,N=(0,a.useMemo)(()=>{if(w){if(w.endsWith("px"))return parseFloat(w.replace("px",""));if(w.endsWith("rem"))return 16*parseFloat(w.replace("rem",""))}},[w]),S="justify-between"===y;if("flex"!==v||"div"!==f&&"button"!==f)return null;let _=(()=>{if(g||S)return e8.findIndex(e=>e.align===j);{let e=["justify-start","justify-center","justify-end"].indexOf(null!=y?y:"justify-start"),t=["items-start","items-center","items-end"].indexOf(null!=j?j:"items-start");return"column"===b?3*e+t:3*t+e}})();return(0,l.jsxs)(eP,{label:"Layout",children:[(0,l.jsx)(eO,{title:"Direction",children:(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)("button",{type:"button",className:(0,k.cn)("flex h-9 flex-1 items-center justify-center gap-2 rounded-md border-none bg-muted px-3 py-2 transition-colors hover:bg-accent",{"bg-accent":"row"===b||!b}),onClick:()=>{h({element:d,classObj:[{property:"display",value:"flex"},{property:"flexDirection",value:"row"}]})},children:(0,l.jsx)(C.A,{name:"arrow_right",className:"size-5"})}),(0,l.jsx)("button",{type:"button",className:(0,k.cn)("flex h-9 flex-1 items-center justify-center gap-2 rounded-md border-none bg-muted px-3 py-2 transition-colors hover:bg-accent",{"bg-accent":"column"===b}),onClick:()=>{h({element:d,classObj:[{property:"display",value:"flex"},{property:"flexDirection",value:"column"}]})},children:(0,l.jsx)(C.A,{name:"arrow_down",className:"size-5"})})]})}),(0,l.jsx)(eO,{title:"Alignment",childrenWrapperClassName:"",children:(0,l.jsx)("div",{className:(0,k.cn)("gap-1",{"grid grid-cols-3":!(g||S),"flex flex-col":(g||S)&&"column"!==b,"flex flex-row":(g||S)&&"column"===b}),children:(g||S?e8:e5).map((e,t)=>{let s=_===t?((e,t,s)=>{if(t){if("column"!==s)if(0===e)return"text_align_left";else if(1===e)return"text_align_center";else return"text_align_right";return 0===e?"text_align_left":1===e?"text_align_center":"text_align_right"}{if("column"!==s){let t=Math.floor(e/3);return 0===t?"text_align_left":1===t?"text_align_center":"text_align_right"}let t=e%3;return 0===t?"text_align_left":1===t?"text_align_center":"text_align_right"}})(t,g||S,b):null,a=_===t,n="";return"column"!==b&&(n="rotate-90"),(0,l.jsx)("button",{className:(0,k.cn)("relative h-9 rounded border-none bg-muted transition-colors hover:bg-accent",{"bg-accent":a}),onClick:()=>(e=>{if(g||S){let t=e8[e];h({element:d,classObj:[{property:"display",value:"flex"},{property:"alignItems",value:"items-start"===t.align?"flex-start":"items-center"===t.align?"center":"flex-end"},{property:"justifyContent",value:"space-between"}]})}else{let t,s;if("column"===b){let l=Math.floor(e/3),a=e%3;s=0===l?"flex-start":1===l?"center":"flex-end",t=0===a?"flex-start":1===a?"center":"flex-end"}else{let l=Math.floor(e/3);t=0===l?"flex-start":1===l?"center":"flex-end",s=e4[["justify-start","justify-center","justify-end"][e%3]]}h({element:d,classObj:[{property:"display",value:"flex"},{property:"alignItems",value:t},{property:"justifyContent",value:s}]})}})(t),children:(0,l.jsx)("div",{className:"flex h-full items-center justify-center",children:a&&s?(0,l.jsx)(C.A,{name:s,className:(0,k.cn)("size-3.5",n)}):(0,l.jsx)("div",{className:"size-1 rounded-full bg-muted-foreground/40"})})},t)})})}),(0,l.jsx)(eO,{title:"Gap",children:(0,l.jsx)(e2.q,{iconName:"margin_horizontal",value:null!=N?N:0,onChange:e=>{u({property:"gap",value:"".concat(e,"px")})},name:"gap","aria-label":"Gap scrubber"})})]})};var e6=s(20079);let e7=e=>{var t,s,n,r;let{type:i,values:o,onChange:c,onLockedChange:d}=e,[u,m]=(0,a.useState)(!1),p=(0,a.useRef)(!1),h=i.charAt(0).toUpperCase()+i.slice(1);(0,a.useEffect)(()=>{let e=e=>{"Meta"===e.key&&(p.current=!0)},t=e=>{"Meta"===e.key&&(p.current=!1)};return window.addEventListener("keydown",e),window.addEventListener("keyup",t),()=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",t)}},[]);let g=(0,a.useCallback)((e,t)=>{p.current?d(t,i):c(e,"".concat(t,"px"))},[c,d,i]);return(0,l.jsxs)(eO,{childrenWrapperClassName:"flex gap-2",title:h,children:[u?(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(e2.q,{iconName:"".concat(i,"_left"),value:null!=(t=o.left)?t:0,name:"".concat(i,"Left"),"aria-label":"".concat(h," left scrubber"),onChange:e=>{o.left!==e&&g("".concat(i,"Left"),e)}}),(0,l.jsx)(e2.q,{iconName:"".concat(i,"_top"),value:null!=(s=o.top)?s:0,name:"".concat(i,"Top"),"aria-label":"".concat(h," top scrubber"),onChange:e=>{o.top!==e&&g("".concat(i,"Top"),e)}})]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(e2.q,{iconName:"".concat(i,"_right"),value:null!=(n=o.right)?n:0,name:"".concat(i,"Right"),"aria-label":"".concat(h," right scrubber"),onChange:e=>{o.right!==e&&g("".concat(i,"Right"),e)}}),(0,l.jsx)(e2.q,{iconName:"".concat(i,"_bottom"),value:null!=(r=o.bottom)?r:0,name:"".concat(i,"Bottom"),"aria-label":"".concat(h," bottom scrubber"),onChange:e=>{o.bottom!==e&&g("".concat(i,"Bottom"),e)}})]})]}):(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(e2.q,{iconName:"margin"===i?"margin_horizontal":"padding_horizontal",value:o.left,onChange:e=>{o.left!==e&&g("".concat(i,"X"),e)},name:"".concat(i,"X"),"aria-label":"".concat(h," horizontal scrubber")}),(0,l.jsx)(e2.q,{iconName:"margin"===i?"margin_vertical":"padding_vertical",value:o.top,name:"".concat(i,"Y"),"aria-label":"".concat(h," vertical scrubber"),onChange:e=>{o.top!==e&&g("".concat(i,"Y"),e)}})]}),(0,l.jsx)(eg.Q,{tooltipContent:"Individual ".concat(i),children:(0,l.jsx)(e6.l,{className:"data-[state=on]:bg-affirmative-primary data-[state=on]:text-affirmative-primary-foreground hover:data-[state=on]:bg-affirmative-primary/90 hover:data-[state=on]:text-affirmative-primary-foreground",size:"sm",onClick:()=>m(!u),children:(0,l.jsx)(C.A,{name:"square_sides"})})})]})},e9=e=>{let{element:t,debouncedOnClassNameUpdate:s}=e,{currentClassName:n}=(0,U.K)(),{getRelevantTwClass:r}=(0,eE.U)(),{handleUpdateClassName:i}=(0,eC.g)(),o=(0,a.useMemo)(()=>{var e,s,l,a,i,o,c,d,u,m,p,h;if(!n)return;let g=e=>{if(e){if(e.endsWith("px"))return parseFloat(e.replace("px",""));if(e.endsWith("rem"))return 16*parseFloat(e.replace("rem",""))}},x=r({className:n,property:"padding",cssVariables:t.cssVariables}),f=r({className:n,property:"paddingY",cssVariables:t.cssVariables}),v=r({className:n,property:"paddingX",cssVariables:t.cssVariables});return{paddingTop:null!=(o=null!=(i=g(null==(e=r({className:n,property:"paddingTop",cssVariables:t.cssVariables}))?void 0:e.value))?i:g(null==f?void 0:f.value))?o:g(null==x?void 0:x.value),paddingBottom:null!=(d=null!=(c=g(null==(s=r({className:n,property:"paddingBottom",cssVariables:t.cssVariables}))?void 0:s.value))?c:g(null==f?void 0:f.value))?d:g(null==x?void 0:x.value),paddingLeft:null!=(m=null!=(u=g(null==(l=r({className:n,property:"paddingLeft",cssVariables:t.cssVariables}))?void 0:l.value))?u:g(null==v?void 0:v.value))?m:g(null==x?void 0:x.value),paddingRight:null!=(h=null!=(p=g(null==(a=r({className:n,property:"paddingRight",cssVariables:t.cssVariables}))?void 0:a.value))?p:g(null==v?void 0:v.value))?h:g(null==x?void 0:x.value)}},[r,n,t.cssVariables]),c=(0,a.useMemo)(()=>{var e,s,l,a,i,o,c,d,u,m,p,h;if(!n)return;let g=e=>{if(e){if(e.endsWith("px"))return parseFloat(e.replace("px",""));if(e.endsWith("rem"))return 16*parseFloat(e.replace("rem",""))}},x=r({className:n,property:"margin",cssVariables:t.cssVariables}),f=r({className:n,property:"marginY",cssVariables:t.cssVariables}),v=r({className:n,property:"marginX",cssVariables:t.cssVariables});return{marginTop:null!=(o=null!=(i=g(null==(e=r({className:n,property:"marginTop",cssVariables:t.cssVariables}))?void 0:e.value))?i:g(null==f?void 0:f.value))?o:g(null==x?void 0:x.value),marginBottom:null!=(d=null!=(c=g(null==(s=r({className:n,property:"marginBottom",cssVariables:t.cssVariables}))?void 0:s.value))?c:g(null==f?void 0:f.value))?d:g(null==x?void 0:x.value),marginLeft:null!=(m=null!=(u=g(null==(l=r({className:n,property:"marginLeft",cssVariables:t.cssVariables}))?void 0:l.value))?u:g(null==v?void 0:v.value))?m:g(null==x?void 0:x.value),marginRight:null!=(h=null!=(p=g(null==(a=r({className:n,property:"marginRight",cssVariables:t.cssVariables}))?void 0:a.value))?p:g(null==v?void 0:v.value))?h:g(null==x?void 0:x.value)}},[r,n,t.cssVariables]),d=(0,a.useCallback)((e,s)=>{i({element:t,classObj:("margin"===s?["marginTop","marginRight","marginBottom","marginLeft"]:["paddingTop","paddingRight","paddingBottom","paddingLeft"]).map(t=>({property:t,value:"".concat(e,"px")}))})},[t,i]);return(0,l.jsxs)(eP,{label:"Spacing",children:[(0,l.jsx)(e7,{type:"margin",values:{top:null==c?void 0:c.marginTop,right:null==c?void 0:c.marginRight,bottom:null==c?void 0:c.marginBottom,left:null==c?void 0:c.marginLeft},onChange:(e,t)=>{s({property:e,value:t})},onLockedChange:d}),(0,l.jsx)(e7,{type:"padding",values:{top:null==o?void 0:o.paddingTop,right:null==o?void 0:o.paddingRight,bottom:null==o?void 0:o.paddingBottom,left:null==o?void 0:o.paddingLeft},onChange:(e,t)=>{s({property:e,value:t})},onLockedChange:d})]})};var te=s(68029);let tt=e=>{var t,s,a;let{element:n,debouncedOnClassNameUpdate:r}=e,{currentClassName:i}=(0,U.K)(),{getRelevantTwClass:o,theme:c}=(0,eE.U)(),{handleUpdateClassName:d}=(0,eC.g)(),u=null==(t=o({className:i,property:"textAlign",cssVariables:n.cssVariables}))?void 0:t.value;return(0,l.jsxs)(eP,{label:"Typography",children:[(0,l.jsx)(eO,{title:"Font size",children:(0,l.jsxs)(e$.l6,{name:"fontSize",onValueChange:e=>{e&&r({property:"fontSize",value:e})},onOpenChange:e=>{if(!e){var t;d({element:n,classObj:[{property:"fontSize",value:(null==(t=o({className:i,property:"fontSize",cssVariables:n.cssVariables}))?void 0:t.valueDef.raw)||"base"}]})}},value:(null==(s=o({className:i,property:"fontSize",cssVariables:n.cssVariables}))?void 0:s.valueDef.raw)||"base",children:[(0,l.jsx)(e$.bq,{className:"border-none bg-muted shadow-none",children:(0,l.jsx)(e$.yv,{placeholder:"Select font size"})}),(0,l.jsx)(e$.gC,{children:Object.entries((null==c?void 0:c.fontSize)||{}).map(e=>{var t;let[s,a]=e;return(0,l.jsx)(e$.eb,{onFocus:e=>{let t=e.target.getAttribute("data-value");t&&requestAnimationFrame(()=>{d({element:n,classObj:{property:"fontSize",value:t},preview:!0})})},value:s,"data-value":s,children:null!=(t=eq[s])?t:s},s)})})]})}),(0,l.jsx)(eO,{title:"Font weight",children:(0,l.jsxs)(e$.l6,{name:"fontWeight",onValueChange:e=>{e&&r({property:"fontWeight",value:e})},onOpenChange:e=>{if(!e){var t;d({element:n,classObj:[{property:"fontWeight",value:(null==(t=o({className:i,property:"fontWeight",cssVariables:n.cssVariables}))?void 0:t.valueDef.raw)||"normal"}]})}},value:null==(a=o({className:i,property:"fontWeight",cssVariables:n.cssVariables}))?void 0:a.valueDef.raw,children:[(0,l.jsx)(e$.bq,{className:"border-none bg-muted shadow-none",name:"fontWeight",children:(0,l.jsx)(e$.yv,{placeholder:"Select weight"})}),(0,l.jsx)(e$.gC,{className:"visual-edits_font-weight-selector",children:Object.entries((null==c?void 0:c.fontWeight)||{}).filter(e=>"black"!==e[0]).map(e=>{let[t,s]=e;return(0,l.jsx)(e$.eb,{"data-value":t,value:t,onFocus:e=>{let t=e.target.getAttribute("data-value");t&&requestAnimationFrame(()=>{d({element:n,classObj:{property:"fontWeight",value:t},preview:!0})})},children:(0,l.jsx)("span",{className:"capitalize",children:t})},t)})})]})}),(0,l.jsx)(eO,{childrenWrapperClassName:"flex",title:"Alignment",children:(0,l.jsxs)(te.O,{className:"flex-1 bg-muted *:flex-1 *:border-b-transparent *:border-t-transparent first:*:border-s-transparent last:*:border-e-transparent",type:"single",variant:"outline",size:"sm",value:u||"left",onValueChange:e=>{e&&r({property:"textAlign",value:e})},children:[(0,l.jsx)(te.d,{value:"left","aria-label":"Left align",children:(0,l.jsx)(C.I,{name:"text_align_left",className:"h-4 w-4"})}),(0,l.jsx)(te.d,{value:"center","aria-label":"Center align",children:(0,l.jsx)(C.I,{name:"text_align_center",className:"h-4 w-4"})}),(0,l.jsx)(te.d,{value:"right","aria-label":"Right align",children:(0,l.jsx)(C.I,{name:"text_align_right",className:"h-4 w-4"})}),(0,l.jsx)(te.d,{value:"justify","aria-label":"Justify",children:(0,l.jsx)(C.I,{name:"text_align_justify",className:"h-4 w-4"})})]})})]})},ts=e=>{let{element:t}=e,{currentClassName:s,ast:n}=(0,U.K)(),r=(0,eT.BK)(t),{initializeClassName:i,handleUpdateClassName:o,handleUpdateClassNameAdvanced:c}=(0,eC.g)();(0,a.useEffect)(()=>{i(t,n)},[t,n,i]);let{parse:d,classname:u}=(0,eE.U)(),m=(0,a.useRef)({}),[p,h]=(0,a.useState)({}),g=(0,a.useCallback)(e=>{var s;let l=e.property,a=Date.now();h(t=>({...t,[l]:e.value})),m.current[l]&&cancelAnimationFrame(m.current[l].rafId),m.current[l]={rafId:0,lastValue:e,immediateValue:e,lastUpdateTime:(null==(s=m.current[l])?void 0:s.lastUpdateTime)||0},m.current[l].rafId=requestAnimationFrame(()=>{(()=>{let e=m.current[l];if(e){let s=d(u(e.immediateValue));if("error"===s.kind)return;let n=s.valueDef.raw,i=[e.immediateValue];if("backgroundColor"===e.immediateValue.property&&"button"===r&&n.split("-").length>1){let[e,t]=n.split("-"),s=parseInt(t)-100;if((s=100*Math.floor(s/100))>0){let t="".concat(e,"-").concat(s);i.push({property:"backgroundColor",value:t,variants:[{kind:"named",type:"interaction",value:"hover"}]})}}o({element:t,classObj:i}),m.current[l].lastUpdateTime=a,delete m.current[l]}})()})},[u,t,r,o,d]),x=(0,a.useCallback)((e,t)=>{var s;return null!=(s=p[e])?s:t},[p]);return(0,l.jsxs)(l.Fragment,{children:[null===s?(0,l.jsxs)("div",{className:"flex flex-row items-center justify-center gap-2",children:[(0,l.jsx)("p",{className:"text-sm",children:"This element can't be styled. You can edit it by resetting the styling or chatting."}),(0,l.jsx)(H.$,{onClick:()=>c({element:t,className:"",reset:!0}),variant:"secondary",children:"Reset styling"})]}):(0,l.jsxs)(l.Fragment,{children:["icon"===r&&(0,l.jsx)(eQ,{element:t}),"img"!==r&&(0,l.jsx)(e9,{element:t,debouncedOnClassNameUpdate:g}),(0,l.jsx)(e3,{element:t,debouncedOnClassNameUpdate:g}),("text"===r||"button"===r)&&(0,l.jsx)(tt,{element:t,debouncedOnClassNameUpdate:g}),("div"===r||"button"===r||"text"===r||"icon"===r)&&(0,l.jsx)(eH,{element:t,debouncedOnClassNameUpdate:g,getEffectiveValue:x}),("div"===r||"button"===r||"icon"===r)&&(0,l.jsx)(eX,{element:t,debouncedOnClassNameUpdate:g}),"img"===r&&(0,l.jsx)(e1,{element:t,debouncedOnClassNameUpdate:g})]}),(0,l.jsx)(eF,{element:t})]})},tl=e=>{var t,s;let{element:n}=e,{ast:r}=(0,U.K)(),{handleTextChange:i,handlePlaceholderChange:o}=(0,eC.g)(),c=(0,a.useMemo)(()=>(0,ek.wc)(n,r),[n,r]),d="input"===n.elementType||"textarea"===n.elementType,u=(null==(t=n.attrs)?void 0:t.placeholder)||"",m=(null==(s=n.textNodes)?void 0:s.filter(e=>"text"===e.type).filter(e=>""!==e.content.trim()))||[],p=(0,l.jsx)(eO,{title:"Content",fullWidth:!0,children:(0,l.jsxs)(eo.Fc,{variant:"secondary",children:[(0,l.jsx)(C.A,{name:"info_circle",size:"small",className:"text-muted-foreground"}),(0,l.jsx)(eo.TN,{children:"The content in this element can't be edited manually. Ask AI to edit."})]})}),h=n.textNodes?m.length>0&&c?m.map(e=>(0,l.jsx)(eO,{title:"Content",fullWidth:!0,children:(0,l.jsx)(eI.T,{value:(0,eC.t)(e.content),className:(0,k.cn)("h-auto max-h-[200px] min-h-[80px] resize-y border-transparent text-sm leading-snug scrollbar-thin scrollbar-track-transparent scrollbar-thumb-[#636575] placeholder-shown:text-ellipsis placeholder-shown:whitespace-nowrap hover:border-transparent focus-visible:ring-0 focus-visible:ring-offset-0"),placeholder:"Enter text here",onChange:t=>i(n,t.target.value,e.index)})},"".concat(n.filePath,":").concat(n.lineNumber,":").concat(n.col,":").concat(e.index))):p:c?(0,l.jsx)(eO,{title:"Content",fullWidth:!0,children:(0,l.jsx)(eI.T,{value:(0,eC.t)(n.textContent||""),className:(0,k.cn)("h-auto max-h-[200px] min-h-[80px] resize-y border-transparent text-sm leading-snug scrollbar-thin scrollbar-track-transparent scrollbar-thumb-[#636575] placeholder-shown:text-ellipsis placeholder-shown:whitespace-nowrap hover:border-transparent focus-visible:ring-0 focus-visible:ring-offset-0"),placeholder:"Enter text here",onChange:e=>i(n,e.target.value)})},"".concat(n.filePath,":").concat(n.lineNumber,":").concat(n.col)):p;return(0,l.jsxs)(eP,{label:"Text",children:[!d&&h,d&&(0,l.jsx)(eO,{title:"Placeholder",fullWidth:!0,children:(0,l.jsx)(eI.T,{value:u,className:(0,k.cn)("h-auto max-h-[200px] min-h-[80px] resize-y border-transparent text-sm leading-snug scrollbar-thin scrollbar-track-transparent scrollbar-thumb-[#636575] placeholder-shown:text-ellipsis placeholder-shown:whitespace-nowrap hover:border-transparent focus-visible:ring-0 focus-visible:ring-offset-0"),placeholder:"Enter placeholder text",onChange:e=>o(n,e.target.value)})})]})},ta=e=>{let{element:t,disabled:s=!1}=e,{handleRemoveNode:n,handleDuplicateNode:r,undoLastOperation:i,initializeClassName:o}=(0,eC.g)(),{ast:c,currentClassName:d,hasInitialCode:u,history:m}=(0,U.K)(),p=(0,y.Ey)(e=>e.isSaving),h=(0,e_.M)(t,c,{hidePanel:!0});(0,a.useEffect)(()=>{o(t,c)},[t,c,o]),(0,eS.z)(t,{handleRemoveNode:n,handleDuplicateNode:r});let g=(0,F.Nc)(e=>"live"!==e.visibleMode&&"live"===e.targetMode),x=(0,em.E)(),f=(0,y.Ey)(e=>e.selectedElements[0]),v=(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)(H.$,{className:"px-2",variant:"outline",onClick:()=>{x({type:em.G.GET_PARENT_ELEMENT,payload:{id:{filePath:f.filePath,lineNumber:f.lineNumber,col:f.col}}})},children:[(0,l.jsx)(C.A,{name:"redo",size:"small",className:"-rotate-90",weight:"medium"}),"Select parent"]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(eg.Q,{tooltipContent:"Undo",children:(0,l.jsx)(H.$,{variant:"outline",size:"icon-sm",onClick:i,disabled:!m||0===m.length,children:(0,l.jsx)(C.A,{name:"undo"})})}),(0,l.jsx)(eg.Q,{tooltipContent:"Redo",children:(0,l.jsx)(H.$,{variant:"outline",size:"icon-sm",onClick:i,disabled:!0,children:(0,l.jsx)(C.A,{name:"redo"})})}),t.filePath&&(0,l.jsx)(eg.Q,{tooltipContent:"View in code",children:(0,l.jsx)(H.$,{variant:"outline",size:"icon-sm",onClick:h,disabled:s||p,children:(0,l.jsx)(C.A,{name:"code"})})}),(0,l.jsx)(eg.Q,{tooltipContent:"Delete element",children:(0,l.jsx)(H.$,{variant:"outline",size:"icon-sm",onClick:()=>n(t),children:(0,l.jsx)(C.A,{name:"trash"})})})]})]});if(g||!u)return(0,l.jsx)("div",{className:"overflow-hidden px-1",children:(0,l.jsxs)("div",{className:"flex flex-grow flex-col gap-4",children:[v,(0,l.jsx)("div",{className:"flex items-center justify-center pb-16",children:(0,l.jsx)("p",{className:"text-sm text-muted-foreground",children:"Waiting for Live Preview to start..."})})]})});let b="input"===t.elementType||"textarea"===t.elementType,j=(0,ek.wc)(t,c)||b;return(0,l.jsxs)("div",{className:"space-y-4",children:[v,(0,l.jsxs)("div",{className:"space-y-8",children:[j&&(0,l.jsx)(tl,{element:t}),!s&&null!==d&&(0,l.jsx)(ts,{element:t})]})]})};function tn(e){let{selectedElements:t}=e;return(0,l.jsx)(Y,{isLoading:!1,icon:"pointer_dashed_square",title:"".concat(t.length," elements selected"),description:"Ask Lovable to modify the selected elements below"})}function tr(e){let{element:t,canEdit:s,isSaving:a,hasMultipleSelections:n,selectedElements:r}=e;return n?(0,l.jsx)(tn,{selectedElements:r}):(0,l.jsx)("div",{className:"flex flex-col gap-4",children:(0,l.jsx)(ta,{element:t,disabled:a||!s})})}let ti=()=>{let{selectedElements:e,canEdit:t}=(0,ey.O)(),{turnOffVisualEditing:s,closeVisualEditsPanel:n}=(0,y.U$)(),{navigateTo:r}=(0,O.b8)(),{isMac:i}=(0,ej.A)(),o=e[0],c=e.length>1,{syncCode:d,hasUnsavedChanges:u}=(0,U.K)(),{undoLastOperation:m}=(0,eC.g)(),{snapshot:p}=(0,ew.$4)(),h=(0,y.Ey)(e=>e.isSaving),{setIsSaving:g}=(0,y.U$)(),x=(0,a.useCallback)(async()=>(g(!0),d(p.getPendingChanges(),{fileEditType:eN.H.VisualEdit}).then(()=>{g(!1),s()})),[g,p,d,s]);(0,eb.vC)("meta+z",e=>{e.preventDefault(),t&&m()}),(0,eb.vC)("meta+enter",e=>{e.preventDefault(),t&&x().finally(()=>{s()})}),(0,eb.vC)("esc",e=>{e.preventDefault(),n()},{enableOnFormTags:!0});let f=(0,em.E)();return((0,a.useEffect)(()=>()=>{f({type:em.G.UPDATE_SELECTED_ELEMENTS,payload:[]})},[f]),(0,a.useEffect)(()=>{o&&r("design-edit",["Design","Edit"])},[o,r]),(0,a.useEffect)(()=>{let e=e=>{if(e.data.type===em.G.KEYBIND){let{compositeKey:s}=e.data.payload;switch(s){case"Meta+z":t&&m();break;case"Meta+Enter":t&&x()}}};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}},[t,x,u,s,m]),o)?(0,l.jsx)("div",{className:"flex h-full flex-col",children:(0,l.jsx)("div",{className:"flex-1 overflow-y-auto px-2 pb-8",children:(0,l.jsx)(tr,{element:o,canEdit:t,isSaving:h,hasMultipleSelections:c,selectedElements:e})})}):(0,l.jsx)(Y,{isLoading:!1,icon:"pointer_dashed_square",title:"Visual Edit Mode",description:"Click on elements in the preview to edit them visually",children:(0,l.jsxs)("p",{className:"mt-2 text-xs text-muted-foreground",children:["Hold ",(0,l.jsx)("kbd",{className:"rounded bg-muted px-1 py-0.5 text-xs font-medium",children:i?"Cmd":"Ctrl"})," to select multiple elements"]})})},to=()=>{let e=(0,O.jp)(e=>e.view),t=(0,i.Tp)(d.x.VisualEdit3),s=(0,u.ZG)(),a=(0,P.wV)(e=>e.isSendChatMessageMutationPending),n=(0,P.wV)(e=>e.isSomeRevertMutationPending),r=(0,y.Ey)(e=>e.isSaving),o=(0,P.wV)(e=>e.isApplyingTheme),c=(0,F.Nc)(e=>"live"!==e.visibleMode&&"live"===e.targetMode),{hasInitialCode:m}=(0,U.K)(),p=c||!m,h=(0,R.R)(),g=r||n||o||a||p||h;if(!t)return(0,l.jsx)(z,{});let x=()=>r?(0,l.jsx)(J,{}):n?(0,l.jsx)(Z,{}):o?(0,l.jsx)(Q,{}):p?(0,l.jsx)(ee,{}):a||h?(0,l.jsx)(G,{}):null;return(0,l.jsxs)("div",{className:"-mb-4 flex h-full min-h-0 flex-col pb-4",children:[s&&(0,l.jsx)(W,{}),(0,l.jsx)("div",{className:"flex-1 overflow-hidden",children:(()=>{if(s)switch(e){case"design":default:return(0,l.jsx)(K,{});case"design-libraries":return(0,l.jsx)($,{});case"design-themes":if(g)return x();return(0,l.jsx)(ev,{});case"design-edit":if(g)return x();return(0,l.jsx)(ti,{});case"chat":case"history":return null}if(t)return(0,l.jsx)(ti,{})})()})]})};var tc=s(69850),td=s(62548),tu=s(20480),tm=s(3555),tp=s(79743),th=s(41614);let tg=()=>{let e=(0,c.B)(),t=(0,a.useRef)(null);!function(e){let t=(0,et.jE)().getQueryData(tc.gO.initialPrompt(e)),s=(0,et.jE)(),l=(0,a.useRef)(!1),{createOptimisticMessage:n}=(0,tu.h)(),{setIsSendChatMessageMutationPending:r}=(0,P.sK)(),{startLiveMode:i}=(0,F.$E)(),o=(0,tm.mg)({projectId:e}),{setIsInitialized:c}=(0,j.vd)();(0,a.useEffect)(()=>{var a,o;if(!t||l.current)return;l.current=!0;let d={id:t.id,message:t.message};(null==(a=t.selectedElements)?void 0:a.length)&&(d.selected_elements=t.selectedElements),(null==(o=t.images)?void 0:o.length)&&(d.optimisticImageUrls=t.images.map(e=>e.url),d.images=t.images.map(e=>({image_id:e.id,type:td.g.USER_UPLOAD}))),t.chatOnly&&(d.chat_only=t.chatOnly),t.builderToken&&(d.builder_token=t.builderToken),t.model&&(d.model=t.model),t.ai_message_id&&(d.ai_message_id=t.ai_message_id),d.is_creation=!0,c(!0),r(!0),n({body:d}),i(),s.invalidateQueries({queryKey:tc.workspaceKeys.all}),s.removeQueries({queryKey:tc.gO.initialPrompt(e)})},[t,e,c,r,n,s,o,i])}(e);let{permitted:s}=(0,r.J)(m.eZ.EditProject),x=(0,h.Iw)(e=>e.project),{isRemixable:f}=(0,n.I)(x),v=(0,o.A)("md"),b=(0,p.Fy)(e=>e.showHistory),y=(0,i.Tp)(d.x.VisualEdit3),w=(0,u.ZG)(),N=(0,O.jp)(e=>e.view);if(!s&&!f)return null;let C="chat"===N||N.startsWith("design");return(0,l.jsxs)("div",{className:"mx-auto flex min-h-0 w-full max-w-3xl flex-1 flex-col pl-0 md:pl-2",ref:t,children:[(0,l.jsx)(th.s,{}),(()=>{if(!y&&b)return(0,l.jsx)(g.b,{});switch(N){case"chat":return(0,l.jsx)(z,{});case"history":return(0,l.jsx)(g.b,{});case"design":case"design-libraries":case"design-themes":case"design-edit":return(0,l.jsx)(to,{});default:if(w)return(0,l.jsx)(to,{});return(0,l.jsx)(z,{})}})(),!v&&C&&(0,l.jsx)(tp.F,{chatPanelRef:t})]})}},68029:(e,t,s)=>{"use strict";s.d(t,{O:()=>c,d:()=>d});var l=s(77145),a=s(31339),n=s(95661),r=s(20079),i=s(56024);let o=n.createContext({size:"default",variant:"default",spacing:0});function c(e){let{className:t,variant:s,size:n,spacing:r=0,children:c,...d}=e;return(0,l.jsx)(a.bL,{"data-slot":"toggle-group","data-variant":s,"data-size":n,"data-spacing":r,style:{gap:"".concat(r,"px")},className:(0,i.cn)("group/toggle-group data-[spacing=default]:data-[variant=outline]:shadow-xs flex w-fit items-center rounded-md",t),...d,children:(0,l.jsx)(o.Provider,{value:{variant:s,size:n,spacing:r},children:c})})}function d(e){let{className:t,children:s,variant:c,size:d,...u}=e,m=n.useContext(o);return(0,l.jsx)(a.q7,{"data-slot":"toggle-group-item","data-variant":m.variant||c,"data-size":m.size||d,"data-spacing":m.spacing,className:(0,i.cn)((0,r.v)({variant:m.variant||c,size:m.size||d}),"w-auto min-w-0 shrink-0 px-3 focus:z-10 focus-visible:z-10","data-[spacing=0]:rounded-none data-[spacing=0]:data-[variant=outline]:border-l-0 data-[spacing=0]:shadow-none data-[spacing=0]:first:rounded-l-md data-[spacing=0]:data-[variant=outline]:first:border-l data-[spacing=0]:last:rounded-r-md",t),...u,children:s})}},72706:(e,t,s)=>{Promise.resolve().then(s.bind(s,55181))},94123:(e,t,s)=>{"use strict";s.d(t,{E:()=>c});var l=s(77145),a=s(40702),n=s(83220),r=s(51374),i=s(92918),o=s(15365);function c(e){return(0,n.QY)()?(0,l.jsx)(d,{...e}):(0,l.jsx)(u,{...e})}function d(e){let{children:t,permission:s,featureFlags:a,plans:r,shouldShow:i=!0,adminOnly:o=!1,fallback:c=null}=e,d=(0,n.j4)(e=>e.currentWorkspace);return(0,l.jsx)(m,{workspace:d,permission:s,featureFlags:a,plans:r,shouldShow:i,adminOnly:o,fallback:c,children:t})}function u(e){let{children:t,permission:s,featureFlags:a,plans:r,shouldShow:i=!0,adminOnly:o=!1,fallback:c=null}=e,d=(0,n.j4)(e=>e.currentWorkspace);return(0,l.jsx)(m,{workspace:d,permission:s,featureFlags:a,plans:r,shouldShow:i,adminOnly:o,fallback:c,children:t})}function m(e){var t;let{workspace:s,permission:n,featureFlags:c,plans:d,shouldShow:u,adminOnly:m,fallback:p,children:h}=e,{isAuthenticated:g}=(0,a.Z2)(),x=(0,o.WW)(),{permissions:f,isLoading:v}=(0,r.S)(),{featureFlags:b,featureFlagOverrides:j}=(0,i.Jp)(),y=!n||f.includes(n),w=null==(t=null==d?void 0:d.some(e=>{var t;return(null==s?void 0:s.plan)===e||(null==s||null==(t=s.plan)?void 0:t.startsWith(e))}))||t,N=!c||c.some(e=>{var t,s;return!!(null!=(s=null!=(t=j[e])?t:null==b?void 0:b[e])&&s)});return(!m||x)&&N&&u&&g&&!v?y&&w||x?(0,l.jsx)(l.Fragment,{children:h}):(0,l.jsx)(l.Fragment,{children:p}):null}},95844:(e,t,s)=>{"use strict";s.d(t,{i:()=>l});let l=[{id:"notion",title:"Notion",description:"Create, edit, and manage Notion pages and databases.",icon:"/img/mcp-plugins/notion.png",category:"Productivity",serverUrl:"https://mcp.notion.com/mcp"},{id:"linear",title:"Linear",description:"Create issues, manage sprints, and track development.",icon:"/img/mcp-plugins/linear.png",category:"Development",serverUrl:"https://mcp.linear.app/mcp"},{id:"atlassian",title:"Atlassian",description:"Integrate with Jira, Confluence, and other tools.",icon:"/img/mcp-plugins/atlassian.png",category:"Development",serverUrl:"https://mcp.atlassian.com/v1/sse"},{id:"n8n",title:"n8n",description:"Automate workflows with n8n.",icon:"/img/mcp-plugins/n8n.png",category:"Automation",requiresCustomUrl:!0,urlPlaceholder:"https://my.app.n8n.cloud/mcp-server/http"},{id:"miro",title:"Miro",description:"Create diagrams, boards, and whiteboards.",icon:"/img/mcp-plugins/miro.png",category:"Design"}]}},e=>{e.O(0,[8086,8888,5220,4397,5472,2247,3841,7172,9995,624,1240,4198,1410,6753,8922,8352,5222,2628,4718,8984,2670,397,6415,5889,4056,3279,1054,7179,1148,7986,9898,6926,2324,3071,4041,2140,8600,5198,3430,8939,3712,2907,9730,3851,4186,32,3161,732,8344,8413,5553,2764,2971,4892,7551,5473,7127,1689,7358],()=>e(e.s=72706)),_N_E=e.O()}]);